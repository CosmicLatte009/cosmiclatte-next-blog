---
title: 'map에 고유한 key를 설정해야하는 이유'
date: '2023-03-13 04:26:39'
tags: ['React 트러블슈팅', 'map 메소드']
draft: false
summary: '고유한 key가 필요한 이유는 map으로 반복문 돌리는 리스트의 요소가 하나씩 구분되어야하기 때문이다.'
---

### 문제

map 메소드에 '고유한 key'를 설정하라는 의미가 key 이름 자체를 고유하게 지으라는 뜻으로 잘못 알고 있었다.

### 해결 방법

'고유한 key'가 필요한 이유는 map으로 반복문 돌리는 리스트의 요소가 하나씩 구분되어야하기 때문이다.  
때문에 고유한 데이터 그 자체가 필요한 것이지, 컴포넌트별로 key 이름이 겹치는건 괜찮다.

- #### 데이터 리스트의 id를 key로 사용하는 경우

  리스트에 고유한 id가 있는 경우에는 그대로 id를 key로 사용한다.

  ```JavaScript
  {Data.map((item, index) => (
          <div key={item.id}>
              {item}
          </div>
      ))
  }
  ```

- #### 데이터 리스트의 indext를 key로 사용하는 경우

  리스트에 고유한 id가 없는 경우 (ex. 단순 배열)는 보통 index를 key로 사용한다.

  React에서 key를 명시적으로 넣어주지 않으면 기본적으로 index 값을 key로 사용한다.  
  단, 아이템의 순서가 바뀔 수 있는 경우에는 index를 사용하는걸 권장하지 않는다.

  ```JavaScript
  {arr.map((desc, index) => (
          <div key={index}>{desc}</div>
  ))}
  ```
